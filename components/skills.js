'use client';
import { useRef } from 'react'; // Make sure useRef is imported
import { motion, useScroll, useTransform } from 'framer-motion';

// Curving Character Component
const CurvingCharacter = ({ char, index, centerIndex, scrollYProgress }) => {
  const isSpace = char === ' ';
  const distanceFromCenter = index - centerIndex;

  const x = useTransform(
    scrollYProgress,
    [0, 0.5],
    [distanceFromCenter * 50, 0]
  );
  
  const rotateX = useTransform(
    scrollYProgress,
    [0, 0.5],
    [distanceFromCenter * 50, 0]
  );

  return (
    <motion.span
      style={{
        display: 'inline-block',
        width: isSpace ? '1rem' : 'auto',
        x,
        rotateX,
        color: 'white'
      }}
    >
      {char}
    </motion.span>
  );
};

// Icons Component - UPDATED WITH CUSTOM SVG PATHS
const Icons = {
  react: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z" />
    </svg>
  ),
  tailwind: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z" />
    </svg>
  ),
  gitHub: (props) => (
    <svg viewBox="0 0 438.549 438.549" fill="currentColor" {...props}>
      <path d="M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z" />
    </svg>
  ),
  python: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M9.585 11.692h4.328s2.432.039 2.432-2.35V5.391S16.714 3 11.936 3C7.362 3 7.647 4.983 7.647 4.983l.01 2.055h4.128v.617H5.92s-2.927-.332-2.927 4.282 2.555 4.45 2.555 4.45h1.524v-2.141s-.083-2.554 2.513-2.554zm-.056-5.74a.784.784 0 1 1 0-1.57.a784.784 0 1 1 0 1.57z" />
      <path d="M14.412 12.308H10.08s-2.432-.04-2.432 2.35v3.951s-.369 2.391 4.409 2.391c4.573 0 4.288-1.983 4.288-1.983l-.01-2.054h-4.128v-.617h6.094s2.927.332 2.927-4.282-2.555-4.45-2.555-4.45h-1.524v2.141s.083 2.554-2.513 2.554zm.056 5.74a.784.784 0 1 1 0 1.57.a784.784 0 1 1 0-1.57.z" />
    </svg>
  ),
  // UPDATED C LOGO
  c: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 16.5921 9.1962 s -0.354 -3.298 -3.627 -3.39 c -3.2741 -0.09 -4.9552 2.474 -4.9552 6.14 c 0 3.6651 1.858 6.5972 5.0451 6.5972 c 3.184 0 3.5381 -3.665 3.5381 -3.665 l 6.1041 0.365 s 0.36 3.31 -2.196 5.836 c -2.552 2.5241 -5.6901 2.9371 -7.8762 2.9201 c -2.19 -0.017 -5.2261 0.034 -8.1602 -2.97 c -2.938 -3.0101 -3.436 -5.9302 -3.436 -8.8002 c 0 -2.8701 0.556 -6.6702 4.047 -9.5502 C 7.444 0.72 9.849 0 12.254 0 c 10.0422 0 10.7172 9.2602 10.7172 9.2602 Z" />
    </svg>
  ),
  // UPDATED NODE.JS LOGO
  nodejs: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 11.998 24 c -0.321 0 -0.641 -0.084 -0.922 -0.247 l -2.936 -1.737 c -0.438 -0.245 -0.224 -0.332 -0.08 -0.383 c 0.585 -0.203 0.703 -0.25 1.328 -0.604 c 0.065 -0.037 0.151 -0.023 0.218 0.017 l 2.256 1.339 c 0.082 0.045 0.197 0.045 0.272 0 l 8.795 -5.076 c 0.082 -0.047 0.134 -0.141 0.134 -0.238 V 6.921 c 0 -0.099 -0.053 -0.192 -0.137 -0.242 l -8.791 -5.072 c -0.081 -0.047 -0.189 -0.047 -0.271 0 L 3.075 6.68 C 2.99 6.729 2.936 6.825 2.936 6.921 v 10.15 c 0 0.097 0.054 0.189 0.139 0.235 l 2.409 1.392 c 1.307 0.654 2.108 -0.116 2.108 -0.89 V 7.787 c 0 -0.142 0.114 -0.253 0.256 -0.253 h 1.115 c 0.139 0 0.255 0.112 0.255 0.253 v 10.021 c 0 1.745 -0.95 2.745 -2.604 2.745 c -0.508 0 -0.909 0 -2.026 -0.551 L 2.28 18.675 c -0.57 -0.329 -0.922 -0.945 -0.922 -1.604 V 6.921 c 0 -0.659 0.353 -1.275 0.922 -1.603 l 8.795 -5.082 c 0.557 -0.315 1.296 -0.315 1.848 0 l 8.794 5.082 c 0.57 0.329 0.924 0.944 0.924 1.603 v 10.15 c 0 0.659 -0.354 1.273 -0.924 1.604 l -8.794 5.078 C 12.643 23.916 12.324 24 11.998 24 Z M 19.099 13.993 c 0 -1.9 -1.284 -2.406 -3.987 -2.763 c -2.731 -0.361 -3.009 -0.548 -3.009 -1.187 c 0 -0.528 0.235 -1.233 2.258 -1.233 c 1.807 0 2.473 0.389 2.747 1.607 c 0.024 0.115 0.129 0.199 0.247 0.199 h 1.141 c 0.071 0 0.138 -0.031 0.186 -0.081 c 0.048 -0.054 0.074 -0.123 0.067 -0.196 c -0.177 -2.098 -1.571 -3.076 -4.388 -3.076 c -2.508 0 -4.004 1.058 -4.004 2.833 c 0 1.925 1.488 2.457 3.895 2.695 c 2.88 0.282 3.103 0.703 3.103 1.269 c 0 0.983 -0.789 1.402 -2.642 1.402 c -2.327 0 -2.839 -0.584 -3.011 -1.742 c -0.02 -0.124 -0.126 -0.215 -0.253 -0.215 h -1.137 c -0.141 0 -0.254 0.112 -0.254 0.253 c 0 1.482 0.806 3.248 4.655 3.248 C 17.501 17.007 19.099 15.91 19.099 13.993 Z" />
    </svg>
  ),
  html: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z" />
    </svg>
  ),
  javascript: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z" />
    </svg>
  ),
  css: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z" />
    </svg>
  ),
  // KALI LINUX LOGO (replacing Next.js)
  kali: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 12.778 5.943 s -1.97 -0.13 -5.327 0.92 c -3.42 1.07 -5.36 2.587 -5.36 2.587 s 5.098 -2.847 10.852 -3.008 Z m 7.351 3.095 l 0.257 -0.017 s -1.468 -1.78 -4.278 -2.648 c 1.58 0.642 2.954 1.493 4.021 2.665 Z m 0.42 0.74 c 0.039 -0.068 0.166 0.217 0.263 0.337 c 0.004 0.024 0.01 0.039 -0.045 0.027 c -0.005 -0.025 -0.013 -0.032 -0.013 -0.032 s -0.135 -0.08 -0.177 -0.137 c -0.041 -0.057 -0.049 -0.157 -0.028 -0.195 Z m 3.448 8.479 s 0.312 -3.578 -5.31 -4.403 a 18.277 18.277 0 0 0 -2.524 -0.187 c -4.506 0.06 -4.67 -5.197 -1.275 -5.462 c 1.407 -0.116 3.087 0.643 4.73 1.408 c -0.007 0.204 0.002 0.385 0.136 0.552 c 0.134 0.168 0.648 0.35 0.813 0.445 c 0.164 0.094 0.691 0.43 1.014 0.85 c 0.07 -0.131 0.654 -0.512 0.654 -0.512 s -0.14 0.003 -0.465 -0.119 c -0.326 -0.122 -0.713 -0.49 -0.722 -0.511 c -0.01 -0.022 -0.015 -0.055 0.06 -0.07 c 0.059 -0.049 -0.072 -0.207 -0.13 -0.265 c -0.058 -0.058 -0.445 -0.716 -0.454 -0.73 c -0.009 -0.016 -0.012 -0.031 -0.04 -0.05 c -0.085 -0.027 -0.46 0.04 -0.46 0.04 s -0.575 -0.283 -0.774 -0.893 c 0.003 0.107 -0.099 0.224 0 0.469 c -0.3 -0.127 -0.558 -0.344 -0.762 -0.88 c -0.12 0.305 0 0.499 0 0.499 s -0.707 -0.198 -0.82 -0.85 c -0.124 0.293 0 0.469 0 0.469 s -1.153 -0.602 -3.069 -0.61 c -1.283 -0.118 -1.55 -2.374 -1.43 -2.754 c 0 0 -1.85 -0.975 -5.493 -1.406 c -3.642 -0.43 -6.628 -0.065 -6.628 -0.065 s 6.45 -0.31 11.617 1.783 c 0.176 0.785 0.704 2.094 0.989 2.723 c -0.815 0.563 -1.733 1.092 -1.876 2.97 c -0.143 1.878 1.472 3.53 3.474 3.58 c 1.9 0.102 3.214 0.116 4.806 0.942 c 1.52 0.84 2.766 3.4 2.89 5.703 c 0.132 -1.709 -0.509 -5.383 -3.5 -6.498 c 4.181 0.732 4.549 3.832 4.549 3.832 Z M 12.68 5.663 l -0.15 -0.485 s -2.484 -0.441 -5.822 -0.204 C 3.37 5.211 0 6.38 0 6.38 s 6.896 -1.735 12.68 -0.717 Z" />
    </svg>
  ),
  // TENSORFLOW LOGO (replacing R)
  tensorflow: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 1.292 5.856 L 11.54 0 v 24 l -4.095 -2.378 V 7.603 l -6.168 3.564 l 0.015 -5.31 Z m 21.43 5.311 l -0.014 -5.31 L 12.46 0 v 24 l 4.095 -2.378 V 14.87 l 3.092 1.788 l -0.018 -4.618 l -3.074 -1.756 V 7.603 l 6.168 3.564 Z" />
    </svg>
  ),
  // UPDATED FRAMER LOGO
  framer: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 4 0 h 16 v 8 h -8 Z M 4 8 h 8 l 8 8 H 4 Z M 4 16 h 8 v 8 Z" />
    </svg>
  ),
  // UPDATED MONGODB LOGO
  mongodb: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 17.193 9.555 c -1.264 -5.58 -4.252 -7.414 -4.573 -8.115 c -0.28 -0.394 -0.53 -0.954 -0.735 -1.44 c -0.036 0.495 -0.055 0.685 -0.523 1.184 c -0.723 0.566 -4.438 3.682 -4.74 10.02 c -0.282 5.912 4.27 9.435 4.888 9.884 l 0.07 0.05 A 73.49 73.49 0 0 1 11.91 24 h 0.481 c 0.114 -1.032 0.284 -2.056 0.51 -3.07 c 0.417 -0.296 0.604 -0.463 0.85 -0.693 a 11.342 11.342 0 0 0 3.639 -8.464 c 0.01 -0.814 -0.103 -1.662 -0.197 -2.218 Z m -5.336 8.195 s 0 -8.291 0.275 -8.29 c 0.213 0 0.49 10.695 0.49 10.695 c -0.381 -0.045 -0.765 -1.76 -0.765 -2.405 Z" />
    </svg>
  ),
  git: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.44.516.515.658 1.258.438 1.9l2.658 2.66c.645-.22 1.387-.08 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-2.003L12.86 8.955v6.525c.176.086.342.203.488.348.713.713.713 1.869 0 2.582-.719.719-1.881.719-2.6 0-.719-.713-.719-1.869 0-2.582.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187" />
    </svg>
  ),
  vercel: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M24 22.525H0l12-21.05 12 21.05z" />
    </svg>
  ),
  // UPDATED GCP LOGO
  gcp: (props) => (
    <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
      <path d="M 12.19 2.38 a 9.344 9.344 0 0 0 -9.234 6.893 c 0.053 -0.02 -0.055 0.013 0 0 c -3.875 2.551 -3.922 8.11 -0.247 10.941 l 0.006 -0.007 l -0.007 0.03 a 6.717 6.717 0 0 0 4.077 1.356 h 5.173 l 0.03 0.03 h 5.192 c 6.687 0.053 9.376 -8.605 3.835 -12.35 a 9.365 9.365 0 0 0 -2.821 -4.552 l -0.043 0.043 l 0.006 -0.05 A 9.344 9.344 0 0 0 12.19 2.38 Z m -0.358 4.146 c 1.244 -0.04 2.518 0.368 3.486 1.15 a 5.186 5.186 0 0 1 1.862 4.078 v 0.518 c 3.53 -0.07 3.53 5.262 0 5.193 h -5.193 l -0.008 0.009 v -0.04 H 6.785 a 2.59 2.59 0 0 1 -1.067 -0.23 h 0.001 a 2.597 2.597 0 1 1 3.437 -3.437 l 3.013 -3.012 A 6.747 6.747 0 0 0 8.11 8.24 c 0.018 -0.01 0.04 -0.026 0.054 -0.023 a 5.186 5.186 0 0 1 3.67 -1.69 Z" />
    </svg>
  )
};

export default function Skills() {
  const targetRef = useRef(null);
  
  const { scrollYProgress } = useScroll({
    target: targetRef,
    offset: ['start end', 'end start']
  });

  // Scroll transforms
  const techOpacity = useTransform(scrollYProgress, [0.3, 0.5], [0, 1]);
  const techY = useTransform(scrollYProgress, [0.3, 0.5], [100, 0]);

  const text = "Technologies I Used";
  const characters = text.split('');
  const centerIndex = Math.floor(characters.length / 2);

  // UPDATED TECH STACK ARRAY WITH TENSORFLOW
  const techStack = [
    { name: 'Python', icon: 'python' },
    { name: 'C', icon: 'c' },
    { name: 'React', icon: 'react' },
    { name: 'Node.js', icon: 'nodejs' },
    { name: 'Tailwind', icon: 'tailwind' },
    { name: 'HTML', icon: 'html' },
    { name: 'JavaScript', icon: 'javascript' },
    { name: 'CSS', icon: 'css' },
    { name: 'Kali Linux', icon: 'kali' },
    { name: 'TensorFlow', icon: 'tensorflow' }, // Replaced R with TensorFlow
    { name: 'Framer', icon: 'framer' },
    { name: 'MongoDB', icon: 'mongodb' },
    { name: 'Git', icon: 'git' },
    { name: 'GitHub', icon: 'gitHub' },
    { name: 'Vercel', icon: 'vercel' },
    { name: 'GCP', icon: 'gcp' }
  ];

  return (
    <section
      id="skills"
      ref={targetRef}
      style={{
        minHeight: '180vh',
        background: 'linear-gradient(180deg, #0a0a0a 0%, #111111 100%)',
        padding: '150px 20px 100px',
        color: 'white',
        fontFamily: '"Aptos Narrow", system-ui, sans-serif',
        position: 'relative',
        overflow: 'hidden',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        justifyContent: 'center'
      }}
    >
      {/* Background grid pattern */}
      <div style={{
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundImage: 'linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px)',
        backgroundSize: '50px 50px',
        opacity: 0.3,
        pointerEvents: 'none'
      }} />

      <div style={{
        maxWidth: '1200px',
        margin: '0 auto',
        position: 'relative',
        zIndex: 2,
        width: '100%'
      }}>
        
        {/* CURVING TITLE EFFECT */}
        <div style={{
          marginBottom: '80px',
          textAlign: 'center'
        }}>
          <div style={{
            fontSize: 'clamp(2.5rem, 7vw, 5rem)',
            fontWeight: '600',
            textAlign: 'center',
            lineHeight: 1.1,
            color: 'white',
            fontFamily: '"Aptos Narrow", sans-serif',
            letterSpacing: '0.02em',
            textTransform: 'uppercase',
            perspective: '500px',
            marginBottom: '20px'
          }}>
            {characters.map((char, index) => (
              <CurvingCharacter
                key={index}
                char={char}
                index={index}
                centerIndex={centerIndex}
                scrollYProgress={scrollYProgress}
              />
            ))}
          </div>

          <p style={{
            fontSize: '1.125rem',
            color: 'rgba(255,255,255,0.6)',
            maxWidth: '600px',
            margin: '0 auto 200px',
            lineHeight: 1.6,
            fontWeight: '300',
            letterSpacing: '0.02em'
          }}>
            {/* A comprehensive collection of tools, frameworks, and technologies I work with. */}
          </p>
        </div>

        {/* Tech Stack Grid with motion effects */}
        <motion.div 
          style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(auto-fill, minmax(120px, 1fr))',
            gap: '20px',
            maxWidth: '900px',
            margin: '0 auto',
            padding: '0 20px',
            opacity: techOpacity,
            y: techY
          }}
        >
          {techStack.map((tech, index) => {
            const IconComponent = Icons[tech.icon];
            return (
              <div
                key={index}
                style={{
                  display: 'flex',
                  flexDirection: 'column',
                  alignItems: 'center',
                  justifyContent: 'center',
                  gap: '12px',
                  padding: '25px 15px',
                  background: 'rgba(20, 20, 25, 0.4)',
                  borderRadius: '16px',
                  border: '1px solid rgba(255,255,255,0.08)',
                  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
                  cursor: 'pointer',
                  position: 'relative',
                  overflow: 'hidden'
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.transform = 'translateY(-6px) scale(1.02)';
                  e.currentTarget.style.borderColor = 'rgba(255,255,255,0.15)';
                  e.currentTarget.style.background = 'rgba(30, 30, 40, 0.5)';
                  e.currentTarget.style.boxShadow = '0 12px 24px rgba(0, 0, 0, 0.2)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.transform = 'translateY(0) scale(1)';
                  e.currentTarget.style.borderColor = 'rgba(255,255,255,0.08)';
                  e.currentTarget.style.background = 'rgba(20, 20, 25, 0.4)';
                  e.currentTarget.style.boxShadow = 'none';
                }}
              >
                <div style={{
                  width: '48px',
                  height: '48px',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  filter: 'grayscale(100%) brightness(1.2)',
                  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
                  position: 'relative'
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.filter = 'grayscale(0%) brightness(1)';
                  e.currentTarget.style.transform = 'scale(1.15) rotate(5deg)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.filter = 'grayscale(100%) brightness(1.2)';
                  e.currentTarget.style.transform = 'scale(1) rotate(0)';
                }}>
                  <IconComponent />
                </div>

                <span style={{
                  fontSize: '0.875rem',
                  fontWeight: '500',
                  color: 'rgba(255,255,255,0.9)',
                  textAlign: 'center',
                  letterSpacing: '0.02em',
                  transition: 'color 0.3s ease'
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.color = '#ffffff';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.color = 'rgba(255,255,255,0.9)';
                }}>
                  {tech.name}
                </span>
              </div>
            );
          })}
        </motion.div>
      </div>
    </section>
  );
}